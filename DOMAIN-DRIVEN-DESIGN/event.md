# 이벤트

## 1. 시스템 간 강결합 문제

- 쇼핑몰에서 주문을 취소하면 외부 결제 시스템과 연동하여 환불을 처리해야 한다. 이처럼 **하나의 도메인 기능이 외부 시스템의 기능을 실행해야 할 때**, 두 시스템을 **직접 연동(강결합)** 하면 여러 문제가 발생할 수 있다.
- 이러한 **강결합(High Coupling) 문제**를 해결하는 좋은 방법이 바로 **이벤트(Event)**, 특히 **비동기 이벤트를 사용**하는 것이다. 강결합 시 발생하는 주요 문제는 다음과 같다.

### 1.1. 트랜잭션 처리의 모호함

- 외부 시스템 연동 시 예외(Exception)가 발생하면, **현재 트랜잭션을 롤백해야 할지 커밋해야 할지** 결정하기가 모호하다.
- 예를 들어, 주문 취소는 성공했지만 외부 시스템의 환불 기능이 실패했을 때, 주문 취소까지 함께 롤백하는 것이 항상 올바른 정책은 아니다.

### 1.2. 성능 저하

- 직접 연동 방식은 **외부 시스템의 성능에 직접적인 영향을 받는다**.
- 만약 외부 환불 시스템의 응답이 늦어지면, 주문 취소 기능의 대기 시간도 그만큼 길어져 사용자 경험을 저하시킨다.

### 1.3. 데이터 변경 로직의 복잡성 증가

- 주문 취소 기능에 '환불' 외에 '취소 통지'와 같은 새로운 기능이 추가되면, **하나의 기능 안에 여러 로직이 섞이게 된다**.
- 이는 **코드의 복잡도를 높이고, 트랜잭션 관리 또한 더욱 어렵게** 만든다.
