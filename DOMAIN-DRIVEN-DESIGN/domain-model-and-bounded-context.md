# 도메인 모델과 바운디드 컨텍스트

## 1. 도메인 모델과 경계

- 처음 도메인 모델을 만들 때 빠지기 쉬운 함정은, **도메인 전체를 완벽하게 표현하는 단일 모델을 만들려고 시도**하는 것이다.
- 하나의 도메인은 여러 하위 도메인으로 나뉘는데, 한 개의 모델로 모든 하위 도메인을 표현하려 하면 오히려 **모든 곳에 맞지 않는 애매한 모델**이 만들어지기 쉽다.
- 이는 하위 도메인마다 사용하는 용어와 개념이 다르기 때문이다. 예를 들어, 시스템을 사용하는 동일한 사람이라도 회원 컨텍스트에서는 '회원'으로, 주문 컨텍스트에서는 '주문자'로 불릴 수 있다.
- 이처럼 같은 대상이라도 컨텍스트에 따라 용어나 의미가 달라지므로, **하나의 모델로 모든 하위 도메인을 표현하는 것은 올바르지 않으며 가능하지도 않다**.
- 올바른 도메인 모델을 개발하려면, **각 하위 도메인마다 별도의 모델**을 만들어야 한다. 각 모델은 **명시적으로 구분되는 경계**를 가져서 서로 섞이지 않도록 해야 한다.
- 만약 여러 하위 도메인의 모델이 서로 섞이면, 모델의 의미가 모호해지고 서로 얽히게 되어 **요구사항 변경에 유연하게 대처하기 어려워진다**.
- 모델은 **특정한 컨텍스트(문맥) 하에서 완전한 의미**를 가진다. DDD에서는 이렇게 명확하게 구분되는 경계를 가진 컨텍스트를 **바운디드 컨텍스트(Bounded Context)** 라고 부른다.

## 2. 바운디드 컨텍스트

### 2.1. 바운디드 컨텍스트의 정의

- **바운디드 컨텍스트(Bounded Context)** 는 모델의 **경계를 결정**하며, 하나의 바운디드 컨텍스트는 논리적으로 하나의 모델을 가진다.
- 바운디드 컨텍스트를 구분하는 가장 중요한 기준은 **해당 컨텍스트에서 사용하는 용어**이다. 용어가 다르다는 것은 별개의 컨텍스트일 가능성이 높다는 것을 의미한다.
- 또한, 바운디드 컨텍스트는 실제로 **사용자에게 기능을 제공하는 물리적인 시스템 단위**이기도 하다.

### 2.2. 하위 도메인 및 조직과의 관계

- 이상적으로는 하나의 하위 도메인이 하나의 바운디드 컨텍스트와 1:1 관계를 갖는 것이지만, **현실에서는 항상 그렇지 않다**.
- 바운디드 컨텍스트는 **기업의 팀 조직 구조에 따라 결정**되기도 한다. 예를 들어, 규모가 작은 기업에서는 한 팀이 여러 하위 도메인을 하나의 바운디드 컨텍스트 안에서 구현할 수도 있다.

### 2.3. 모델이 섞이는 것에 대한 주의사항

- 하나의 바운디드 컨텍스트에서 여러 하위 도메인을 개발할 때 가장 주의할 점은, **각 하위 도메인의 모델이 서로 섞이지 않도록 하는 것**이다.
- 하나의 프로젝트에 코드가 위치하면, 모든 하위 도메인을 아우르는 단일 모델을 만들고 싶은 유혹에 빠지기 쉽지만, 이는 **각 하위 도메인의 특성을 제대로 반영하지 못하게 만들어** 결국 시스템의 경쟁력을 떨어뜨린다.
- 따라서 하나의 바운디드 컨텍스트 안에서도 **각 하위 도메인별로 패키지를 명확히 구분**하여, 모델이 섞이지 않도록 구현해야 한다.
- 결론적으로 바운디드 컨텍스트는 모델을 구분하는 명확한 경계가 된다. 따라서 같은 '사용자'라 하더라도, **주문 컨텍스트의 '주문자' 모델과 회원 컨텍스트의 '회원' 모델은 서로 다르게** 만들어져야 한다.
