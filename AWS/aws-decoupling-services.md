# AWS 디커플링 서비스

## 1. 디커플링

- 아키텍처에서 구성 요소 간의 **의존성**을 낮추는 방법이다.
- 아키텍처의 **유연성**을 높이고 효율적으로 최적화할 수 있다.

### 1.1. 긴밀한 결합(Tight Coupling)

- 다른 주체와 단단하게 **얽힌 상태**이다.
- 구성 요소 간에 높은 **의존성**을 가지고 있어 변경이 쉽지 않다.

### 1.2. 느슨한 결합(Loose Coupling)

- 다른 요소와 얽히지 않고 **연결**되어 있는 상태이다.
- 구성 요소 간에 낮은 **의존성**을 가지고 있어 변경이 쉽고 **유연**하다.

### 1.3. AWS의 디커플링 서비스

- **Amazon SQS**이다.
- **Amazon SNS**이다.
- **Amazon Kinesis**이다.
- **Amazon MQ**이다.
- **Amazon MSK(Kafka)** 이다.
- 기타 다양한 **이벤트 기반 기능**들(S3 Event, EventBridge, DynamoDB Stream 등)이 있다.

## 2. Amazon SQS

- AWS에서 제공하는 **큐 서비스**이다.
  - **큐 서비스**는 아키텍처에서 주로 서비스 간 **데이터**를 전달할 때 활용한다.
  - 하나의 메시지를 **한 번만 처리**하는 것을 목표로 한다.
- 주요 사용 사례
  - 하나의 서비스에서 다른 서비스로 **데이터**를 전달하고 싶을 때 사용한다.
  - 아키텍처에서 AWS 서비스들의 **느슨한 연결(Loose Coupling)** 을 수립할 때 사용한다.
  - 메시지의 **처리 순서** 및 **처리 여부**를 보장하고 싶을 때 사용한다.
- **사용 방식**은 다음과 같다.
  - 메시지를 받아 **임시로 저장**(최대 14일)하고, 요청이 오면 들어온 순서대로 **전달**한다.
  - 전달받은 서비스가 메시지 처리 후 **완료 요청**을 보내면 큐에서 **삭제**한다.
  - 오류 등으로 처리를 못하면 메시지를 **반환**한다.
  - 메시지는 여러 주체가 요청하더라도 **한 번만 전달**되도록 처리한다.
- **Public 서비스**이다. 즉 AWS 외부에서 **인터넷**을 통해 사용 가능하다.
- **Serverless 서비스**로 분류된다.
  - **고가용성**이 자체적으로 확보되어 있다.
  - 별도의 **인프라 관리**가 불필요하다.
- **요청 횟수**, **메시지 크기** 등으로 과금된다.
