# CloudFormation

## 1. 인프라 구성의 역사

| 구분                        | 소요 시간       | 주요 작업                                                                          |
| :-------------------------- | :-------------- | :--------------------------------------------------------------------------------- |
| Pre-Cloud                   | 몇 주 ~ 몇 개월 | - 데이터 센터/서버 확보<br>- 네트워크 공사 및 기기 설치<br>- OS/프로그램 수동 설치 |
| Cloud                       | 몇 시간         | - 리소스 선별<br>- 데이터 입력 및 클릭 (반복)                                      |
| IaC(Infrastructure as Code) | 몇 분           | - 설정파일 업로드<br>- 끝                                                          |

### 1.1. IaC(Infrastructure as Code)

- 클라우드에서 인프라를 **코드**로 관리하는 방법이다.
- 장점
  - 항상 **일관된 아키텍처**를 구현한다.
    - **휴먼 에러**를 배제할 수 있다.
  - **재사용성**이 뛰어나다.
    - 일정 단위의 **모듈**로 만들어 다양한 프로젝트에서 재사용 가능하다.
    - 인프라의 구성을 다른 사람과 **공유**하거나 **복제** 가능하다.
  - **관리**가 용이하다.
    - 리소스의 **변경** 및 **이력 추적**이 가능하다.
    - **일괄 삭제**가 가능하다.
    - **Git** 등을 활용한 **형상 관리**가 가능하다.

## 2. CloudFormation

- AWS 리소스를 모델링하고 설정하여 리소스 관리 시간을 줄이고, 애플리케이션 실행에 더 많은 시간을 사용할 수 있도록 돕는 **서비스**이다.
- AWS의 IaC 서비스 이다.
- 주요 사용 사례
  - 인프라를 **자동**으로 프로비저닝하고 싶을 때
  - 인프라를 **재사용**하거나 **공유**하고 싶을 때
  - 정형화된 아키텍처를 **코드화**하여 관리하고 싶을 때
  - 인프라의 **프로비저닝** 및 **업데이트** 과정을 체계적으로 관리하고 싶을 때
- 코드 기반으로 AWS 인프라를 여러 리전에 자동으로 **프로비저닝**하거나 **업데이트**한다.
  - 프로비저닝 및 업데이트 과정에서 오류 발생 시 자동으로 **롤백(Rollback)** 된다.
- **JSON**과 **YAML** 형식을 지원하며, 재사용성 및 편의를 위한 수많은 기능을 포함한다.
- **커스텀 리소스**를 사용하여 거의 모든 작업을 수행할 수 있다.
  - 예: 슬랙 알림, 온프레미스 데이터 센터의 리소스 구성 등
