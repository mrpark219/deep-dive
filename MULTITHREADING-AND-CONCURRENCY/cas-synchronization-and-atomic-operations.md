# CAS - 동기화와 원자적 연산

## 1. 원자적 연산(Atomic Operation)

### 1.1. 원자적 연산이란?

- **더 이상 나눌 수 없는 하나의 단위**로 수행되는 연산을 의미한다.
- 이는 연산이 실행되는 중간에 다른 스레드가 끼어들 수 없으며, **'모두 실행되거나, 아예 실행되지 않거나(All-or-Nothing)'** 를 보장한다.

### 1.2. 원자적 연산의 예시

- **원자적인 연산**: `i = 10;`과 같은 단순 대입 연산은 원자적이다. 이는 값을 변수에 대입하는 **단 하나의 기계어 명령**으로 실행되기 때문이다.
- **원자적이 아닌 연산**: `i++;` 또는 `i = i + 1;`과 같은 증감 연산은 원자적이 아니다. 이 연산은 내부적으로 `i의 값을 읽는다`, `값에 1을 더한다`, `결과를 i에 다시 쓴다` 의 세 단계로 나뉘어 실행되기 때문이다. 각 단계 사이에 다른 스레드가 개입할 수 있다.

### 1.3. 동시성 문제와의 관계

- 원자적 연산은 **그 자체로 동시성 문제로부터 안전**하다.
- 하지만, 원자적이 아닌 연산을 공유 자원에 대해 수행할 경우에는, **`synchronized`나 `Lock` 등을 사용**하여 **임계 영역(Critical Section)** 으로 만들어 반드시 보호해야 한다.
